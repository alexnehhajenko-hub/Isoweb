<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Pro Trace 3D ‚Äî one file</title>
<style>
  html,body{margin:0;height:100%;background:#111;overflow:hidden}
  #status{position:fixed;left:8px;bottom:8px;background:rgba(0,0,0,.75);color:#fff;
          padding:6px 10px;border-radius:8px;font:12px/1.3 system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
  canvas{display:block;width:100vw;height:100vh}
</style>
</head>
<body>
  <div id="status">–°—Ç–∞—Ç—É—Å: –∑–∞–≥—Ä—É–∂–∞—é‚Ä¶</div>

  <!-- –¢–æ–ª—å–∫–æ CDN, –Ω–∏–∫–∞–∫–∏—Ö lib/ -->
  <script src="https://unpkg.com/three@0.160.1/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.160.1/examples/js/controls/OrbitControls.js"></script>

  <script>
  // –ï—Å–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–µ –ø—Ä–∏–µ—Ö–∞–ª–∏ ‚Äî —Å–∫–∞–∂–µ–º –æ–± —ç—Ç–æ–º
  if (typeof THREE === 'undefined' || typeof THREE.OrbitControls === 'undefined') {
    document.getElementById('status').textContent = '‚ùå –ù–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è three.js/OrbitControls (–∏–Ω—Ç–µ—Ä–Ω–µ—Ç/CDN?).';
  } else {
    const status = document.getElementById('status');
    status.textContent = '‚úÖ 3D –∑–∞–≥—Ä—É–∂–µ–Ω–æ ‚Äî —Å—Ç—Ä–æ—é —Å—Ü–µ–Ω—É‚Ä¶';

    // –°—Ü–µ–Ω–∞ / –∫–∞–º–µ—Ä–∞ / —Ä–µ–Ω–¥–µ—Ä–µ—Ä
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0x141414);

    const camera = new THREE.PerspectiveCamera(60, innerWidth/innerHeight, 0.1, 1000);
    camera.position.set(6,5,6);

    const renderer = new THREE.WebGLRenderer({antialias:true});
    renderer.setPixelRatio(Math.min(2, window.devicePixelRatio||1));
    renderer.setSize(innerWidth, innerHeight);
    document.body.appendChild(renderer.domElement);

    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true; controls.dampingFactor = 0.08;

    // –°–µ—Ç–∫–∞ + —Ç–µ—Å—Ç–æ–≤—ã–π –∫—É–±
    scene.add(new THREE.GridHelper(30, 60, 0x333333, 0x242424));
    const cube = new THREE.Mesh(
      new THREE.BoxGeometry(1,1,1),
      new THREE.MeshStandardMaterial({color:0x7c5bff})
    );
    cube.position.y = 0.5;
    scene.add(cube);

    // –°–≤–µ—Ç
    scene.add(new THREE.AmbientLight(0xffffff, 0.6));
    const dir = new THREE.DirectionalLight(0xffffff, 0.9);
    dir.position.set(3,5,2);
    scene.add(dir);

    // –†–µ—Å–∞–π–∑
    addEventListener('resize', ()=>{
      camera.aspect = innerWidth/innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(innerWidth, innerHeight);
    }, {passive:true});

    // –†–µ–Ω–¥–µ—Ä-–ª—É–ø
    (function loop(){
      requestAnimationFrame(loop);
      cube.rotation.y += 0.01;
      controls.update();
      renderer.render(scene, camera);
    })();

    status.textContent = 'üü£ –ì–æ—Ç–æ–≤–æ: —Å–µ—Ç–∫–∞ + –∫—É–±. –ö—Ä—É—Ç–∏/–∑—É–º—å –ø–∞–ª—å—Ü–∞–º–∏.';
  }
  </script>
</body>
</html>